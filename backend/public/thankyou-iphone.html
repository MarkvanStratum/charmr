<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>iphone Thank You | Charmr</title>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FDQ6REQWS8"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-FDQ6REQWS8');
  </script>

  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }
    .container {
      background: white;
      padding: 2rem 3rem;
      text-align: center;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    p {
      font-size: 1.25rem;
      margin: 0;
      color: #111827;
    }
  </style>
</head>
<body>
  <div class="container">
    <p>Thank you for your order. You will be contacted shortly with the details.</p>
  </div>

 

  <!-- ====== SALES POSTBACK GATE (DETERMINISTIC 50% PER ORDER) ====== -->
  <script>
  (function(){
    // ---- LAB MODE for manual testing: add ?lab=alt to URL to force strict alternate (track/skip/track/skip) ----
    const LAB_ALT = new URLSearchParams(location.search).get('lab') === 'alt';

    // ---- FNV-1a 32-bit (sync fallback) ----
    function fnv1a32(str){
      let h = 0x811c9dc5 >>> 0;
      for (let i = 0; i < str.length; i++) {
        h ^= str.charCodeAt(i);
        h = Math.imul(h, 0x01000193) >>> 0;
      }
      return h >>> 0;
    }

    // ---- Decide track vs skip from order ID (stable 50%) ----
    async function decideTrackForOrder(orderNo, salt=""){
      if (LAB_ALT) {
        const k = "gaffpro_lab_alt_counter";
        const n = (parseInt(sessionStorage.getItem(k) || "0", 10) || 0) + 1;
        sessionStorage.setItem(k, String(n));
        // odd -> track, even -> skip (for testing you should see exact 50/50)
        return (n % 2) === 1;
      }

      const id = String(orderNo || "");
      if (!id) {
        // No stable ID? One-time sticky coin flip in this tab so reloads don't change it
        const KEY = "gaffpro_decision_fallback";
        const existing = sessionStorage.getItem(KEY);
        if (existing !== null) return existing === "1";
        const d = Math.random() < 0.5;
        sessionStorage.setItem(KEY, d ? "1" : "0");
        return d;
      }

      const seed = salt + "|" + id;
      try {
        const enc = new TextEncoder();
        const digest = await crypto.subtle.digest("SHA-256", enc.encode(seed));
        // combine first 4 bytes into a uint32 for uniformity
        const b = new Uint8Array(digest);
        const v = (b[0] | (b[1]<<8) | (b[2]<<16) | (b[3]<<24)) >>> 0;
        return (v & 1) === 0; // even -> track (~50%)
      } catch (e) {
        // robust sync fallback
        return (fnv1a32(seed) & 1) === 0;
      }
    }

    
</body>
</html>
