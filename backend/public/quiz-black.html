<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Quiz - Black</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    :root{
      /* Dark theme to match signup */
      --bg:#0e0e0f;            /* page background */
      --card:#151518;          /* card background */
      --text:#ffffff;          /* primary text */
      --muted:#a9acb7;         /* secondary text */
      --line:#24242a;          /* subtle borders */
      --chip:#1a1a1f;          /* chip background */
      --chip-line:#2a2a31;     /* chip border */
      --ring:0 0 0 1.5px rgba(255,255,255,.08) inset, 0 8px 24px rgba(0,0,0,.45);
      --pink:#ff69b4;          /* titles */
      --cta-grad-1:#ffd76b;    /* CTA gradient like signup */
      --cta-grad-2:#ffb429;
      --danger:#ef4444;
      --radius:20px;
    }

    *{box-sizing:border-box}
    html,body{height:auto}
    body{
      margin:0;
      font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
      min-height:100vh; min-height:100svh;
      display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
      padding:18px 14px 40px;
    }

    /* Top bar (styled like the signup page) */
    .topbar{
      position:sticky; top:0; z-index:40;
      width:min(980px,100%);
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 12px; margin-bottom:12px;
      background:linear-gradient(to bottom,rgba(0,0,0,.7),rgba(0,0,0,0));
      backdrop-filter:saturate(120%) blur(8px);
    }
    .brand{display:flex; align-items:center; gap:10px; font-weight:800}
    .logo{width:22px; height:22px; display:grid; place-items:center; color:#6ee7b7; background:#2a2a2e; border-radius:8px; box-shadow:inset 0 0 0 1.5px rgba(255,255,255,.06)}

    /* Shell */
    .shell{ width:min(980px,100%); display:flex; flex-direction:column; gap:14px }

    /* Header strip */
    .header{
      display:flex; flex-direction:column; align-items:center; gap:12px;
      padding:18px 20px; text-align:center;
      background:linear-gradient(180deg, rgba(255,105,180,.12), rgba(255,105,180,.04));
      border-radius:18px; box-shadow:var(--ring);
    }
    .header h1{ font-size:22px; margin:0; color:var(--text); opacity:.92 }
    .provider-logos{ display:flex; gap:16px; align-items:center; justify-content:center; flex-wrap:wrap }
    .provider-logos img{ height:26px; width:auto; filter:brightness(.9) }
    .sub{ font-size:13px; color:var(--muted); max-width:820px }

    /* Content area */
    .content{ display:flex; flex-direction:column; align-items:center; gap:18px; text-align:center }

    /* Quiz card */
    .quiz-card{
      width:min(620px,100%);
      background:var(--card);
      border-radius:18px;
      padding:18px;
      box-shadow:var(--ring);
      border:1px solid var(--line);
      text-align:center;
    }
    .title{ font-weight:900; margin:4px 0 10px; color:var(--pink); letter-spacing:.3px }
    .lead{ color:#e6e7ec; line-height:1.55; margin:0 0 10px; }
    .lead-cta{ color:var(--pink); font-weight:900 }

    /* Steps */
    .step{ display:none; }
    .step.active{ display:block; animation:fade .25s ease; }
    @keyframes fade{ from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:translateY(0)} }

    /* Questions */
    .q{ margin:12px 0; }
    .q label{ display:block; font-weight:800; margin-bottom:10px; color:#f2f3f7 }
    .choices{ display:flex; flex-wrap:wrap; gap:10px; justify-content:center }
    .choices input{ display:none; }
    .choices .chip{
      padding:10px 14px; border-radius:999px; border:1px solid var(--chip-line); cursor:pointer; background:var(--chip); color:#fff;
      transition:border-color .15s ease, transform .06s ease;
    }
    .choices .chip:active{ transform:translateY(1px) }
    .choices input:checked + .chip{ border-color:var(--pink); box-shadow:0 0 0 3px rgba(255,105,180,.18) }

    .btn{
      width:100%; max-width:420px; appearance:none; border:none; color:#111;
      border-radius:14px; padding:12px 16px; font-weight:900; cursor:pointer; font-size:16px;
      background:linear-gradient(180deg,var(--cta-grad-1),var(--cta-grad-2));
      box-shadow:0 8px 22px rgba(255,174,15,.28);
      transition:filter .12s ease, transform .06s ease;
      margin-top:8px;
    }
    .btn:hover{ filter:brightness(.97) }
    .btn:active{ transform:translateY(1px) }
    .btn[disabled]{ opacity:.65; cursor:not-allowed }

    .muted{ color:var(--muted); font-size:13px }
    .small{ font-size:12px; color:var(--muted) }

    .price-pill{
      display:inline-block; padding:6px 10px; border-radius:999px; background:rgba(255,105,180,.08);
      border:1px solid rgba(255,105,180,.28); color:var(--pink); font-weight:900; margin-top:8px;
    }

    .progress{height:10px;background:#1b1b1f;border-radius:999px;overflow:hidden;border:1px solid var(--line);margin:12px 0}
    .bar{height:100%;width:0;background:linear-gradient(90deg, var(--cta-grad-1), var(--cta-grad-2));transition:width .2s}

    .features{ text-align:left; display:inline-block; margin:10px auto 0; color:#e6e7ec; }
    .features li{ margin:6px 0; }

    .countdown{ margin-top:10px; font-weight:900; color:var(--danger) }

    .links{ margin-top:12px; display:flex; flex-direction:column; gap:8px; align-items:center; }
    .link-plain{ color:var(--pink); text-decoration:none; font-weight:800 }
  </style>

  <!-- Google tag -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17486667499"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-17486667499');
  </script>

</head>
<body>

<!-- GoAffPro (must be on every page) -->
  <script type="text/javascript" src="https://api.goaffpro.com/loader.js?shop=nzyvwvfbde"></script>

  <!-- Sticky top bar (brand) -->
  <div class="topbar">
    <div class="brand"><span class="logo">ðŸ’Ž</span><span>Charmr.xyz</span></div><div></div>
  </div>

  <div class="shell">
    <div class="header">
      <h1>We accept:</h1>
      <div class="provider-logos">
        <img src="/logos/visa.png" alt="Visa">
        <img src="/logos/mc2.png" alt="Mastercard">
      </div>
      <div class="sub">
        To protect members and keep it 18+, we confirm your age with a quick, secure card check. This is a fast way to keep our community 18+.
        <br><strong>Regular price $99 â€” today your price: $2.50 (limited time*).</strong>
      </div>
    </div>

    <div class="content">
      <div class="quiz-card">
        <!-- Intro -->
        <div id="step-intro" class="step active">
          <h3 class="title">CONGRATULATIONS!</h3>
          <p class="lead">
            Youâ€™ve been <strong>randomly selected</strong> for a rare chance to unlock
            <span class="lead-cta">all premium features of Charmr at a 97.5% discount!</span></strong>.
          </p>
          <p class="lead">
            <strong>Important:</strong> not everyone gets this opportunity â€” itâ€™s only offered to a
            limited number of visitors chosen at random. We do this to encourage age verification and for the legality and safety of our members.
          </p>
          <p class="lead"><strong>Regular price $99</strong> â€” <span class="lead-cta">your price: $2.50</span>.</p>
          <p class="lead small">
            <strong>One-time chance:</strong> if you pass on it now, you wonâ€™t receive this offer again.
          </p>
          <p class="muted">First, answer a few questions to confirm eligibility.</p>
          <button class="btn" id="btnStart">Start</button>

          <!-- Disclaimer visible only on intro -->
          <div>
            <p style="margin-top: 28px; color:var(--muted)">
              *The premium features are free for a limited time, exactly 1 day. After the free trial expires you will be charged 20 British pounds per month until you cancel.
            </p>
          </div>
        </div>

        <!-- Q1 -->
        <div id="step-q1" class="step">
          <div class="q">
            <label>Are you a man or a woman?</label>
            <div class="choices">
              <label><input type="radio" name="q_gender" value="man"><span class="chip">Man</span></label>
              <label><input type="radio" name="q_gender" value="woman"><span class="chip">Woman</span></label>
            </div>
            <div class="price-pill">Regular price $99 â€” your price: $2.50</div>
          </div>
        </div>

        <!-- Q2 -->
        <div id="step-q2" class="step">
          <div class="q">
            <label>Are you over 40 years of age?</label>
            <div class="choices">
              <label><input type="radio" name="q_over40" value="yes"><span class="chip">Yes</span></label>
              <label><input type="radio" name="q_over40" value="no"><span class="chip">No</span></label>
            </div>
            <div class="price-pill">$99 value â€” FREE for you today</div>
          </div>
        </div>

        <!-- Q3 -->
        <div id="step-q3" class="step">
          <div class="q">
            <label>Do you have a job?</label>
            <div class="choices">
              <label><input type="radio" name="q_job" value="yes"><span class="chip">Yes</span></label>
              <label><input type="radio" name="q_job" value="no"><span class="chip">No</span></label>
            </div>
            <div class="price-pill">Regular price $99 â€” your price: $2.50</div>
          </div>
        </div>

        <!-- Q4 -->
        <div id="step-q4" class="step">
          <div class="q">
            <label>What are you looking for on Charmr?</label>
            <div class="choices">
              <label><input type="radio" name="q_goal" value="sex"><span class="chip">Sex</span></label>
              <label><input type="radio" name="q_goal" value="love"><span class="chip">Love</span></label>
            </div>
            <div class="price-pill">$99 value â€” FREE for you today</div>
          </div>
        </div>

        <!-- Loading -->
        <div id="step-loading" class="step">
          <p class="lead">Processing your answersâ€¦</p>
          <div class="progress"><div class="bar" id="bar"></div></div>
          <p class="muted">Please wait a few seconds.</p>
        </div>

        <!-- Qualified -->
        <div id="step-done" class="step">
          <h3 class="title">CONGRATULATIONS! You qualify ðŸŽ‰</h3>
          <p class="lead">
            Verify your age now and get <strong>all premium features of Charmr for FREE</strong>:
          </p>
          <ul class="features">
		<li>AI Girl chats</li>
            <li>Unlimited messages</li>
            <li>Unlimited sending & receiving of images</li>
            <li>Contact & social media sharing</li>
            <li>Gift sending and more</li>
          </ul>
          <p class="lead small" style="margin-top:10px;">
            <strong>Regular price $99 â€” your price: $2.50.</strong> This is a limited-time, one-time opportunity.
          </p>

          <div class="countdown">
            Offer expires in <span id="timer">05:00</span>
          </div>

          <button class="btn" id="btnVerify">VERIFY MY AGE</button>

          <div class="links">
            <a class="link-plain" href="https://www.charmr.xyz/profiles.html">
              no, i do not want this incredible opportunity, take me to the girls
            </a>
          </div>
        </div>

      </div>
    </div>
  </div>

  <script>
    // Step helpers
    const steps = ["step-intro","step-q1","step-q2","step-q3","step-q4","step-loading","step-done"];
    function show(id){
      steps.forEach(s => document.getElementById(s).classList.remove('active'));
      document.getElementById(id).classList.add('active');
      if (id === 'step-done') startCountdown(5 * 60); // 5 minutes in seconds
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Wire start
    document.getElementById('btnStart').addEventListener('click', ()=> show('step-q1'));

    // Auto-advance when an answer is selected
    function wireQuestion(stepId, name, nextId){
      const step = document.getElementById(stepId);
      step.addEventListener('change', (e)=>{
        const inp = e.target;
        if (inp && inp.name === name){
          setTimeout(()=> show(nextId), 120);
        }
      });
    }
    wireQuestion('step-q1', 'q_gender', 'step-q2');
    wireQuestion('step-q2', 'q_over40', 'step-q3');
    wireQuestion('step-q3', 'q_job', 'step-q4');

    // Last question â†’ loading â†’ done
    (function wireLast(){
      const step = document.getElementById('step-q4');
      const bar = document.getElementById('bar');
      step.addEventListener('change', (e)=>{
        const inp = e.target;
        if (inp && inp.name === 'q_goal'){
          show('step-loading');
          // 5s progress
          let elapsed = 0;
          bar.style.width = '0%';
          const total = 5000, tick = 100;
          const t = setInterval(()=>{
            elapsed += tick;
            bar.style.width = Math.min(100, Math.floor(elapsed/total*100)) + '%';
            if (elapsed >= total){
              clearInterval(t);
              show('step-done');
            }
          }, tick);
        }
      });
    })();

    // Countdown timer on final step
    let countdownInterval = null;
    function startCountdown(seconds){
      const el = document.getElementById('timer');
      if (!el) return;
      if (countdownInterval) clearInterval(countdownInterval);
      let remaining = seconds;
      const format = (s)=>{
        const m = Math.floor(s/60).toString().padStart(2,'0');
        const ss = (s%60).toString().padStart(2,'0');
        return `${m}:${ss}`;
      };
      el.textContent = format(remaining);
      countdownInterval = setInterval(()=>{
        remaining = Math.max(remaining - 1, 0);
        el.textContent = format(remaining);
        if (remaining <= 0){
          clearInterval(countdownInterval);
        }
      }, 1000);
    }

    // Verify button â†’ age verification page
    document.getElementById('btnVerify').addEventListener('click', ()=>{
      window.location.href = "https://www.charmr.xyz/verification-black.html";
    });
  </script>

  <!-- Currency symbol swap ($ / Â£ / â‚¬ based on IP) -->
  <script>
    (function () {
      const EUROZONE = new Set([
        "AT","BE","HR","CY","EE","FI","FR","DE","GR","IE","IT",
        "LV","LT","LU","MT","NL","PT","SK","SI","ES"
      ]);

      function symbolFor(cc) {
        if (cc === "US") return "$";
        if (cc === "GB" || cc === "UK") return "Â£";
        if (EUROZONE.has(cc)) return "â‚¬";
        return "$"; // default keeps the original content in dollars
      }

      function swapCurrencySymbols(root, toSymbol) {
        const walker = document.createTreeWalker(root, NodeFilter.SHOW_TEXT, null, false);
        const nodes = [];
        while (walker.nextNode()) nodes.push(walker.currentNode);
        nodes.forEach(node => {
          if (!node.nodeValue) return;
          node.nodeValue = node.nodeValue.replace(/[$Â£â‚¬]/g, toSymbol);
        });
      }

      function applyFor(countryCode) {
        swapCurrencySymbols(document.body, symbolFor(countryCode));
      }

      // Try IP service first
      fetch("https://ipapi.co/json/")
        .then(r => r.ok ? r.json() : Promise.reject())
        .then(data => applyFor(((data && (data.country || data.country_code)) || "US").toUpperCase()))
        .catch(() => {
          // Fallback to locale if IP lookup fails
          try {
            const loc = Intl.DateTimeFormat().resolvedOptions().locale || "en-US";
            const cc = (loc.split("-")[1] || "US").toUpperCase();
            applyFor(cc);
          } catch {
            /* leave original symbols if everything fails */
          }
        });
    })();
  </script>

  <!-- GoAffPro Conversion Pixel ($0 postback) -->
  <script type="text/javascript">
    // ---- helpers ----
    function uniqueOrderId() {
      const ts = Date.now();
      const rand = Math.random().toString(16).slice(2, 6);
      return `ORD-${new Date().toISOString().slice(0,10).replace(/-/g,'')}-${ts}-${rand}`;
    }

    // prevent double-fire on reload/back
    if (!sessionStorage.getItem('gaffpro_converted')) {
      (function () {
        // Always $0 revenue
        window.goaffpro_order = {
          number: uniqueOrderId(),
          total: 0,
          currency: "USD"
        };

        (function fire(){
          if (typeof window.goaffproTrackConversion === "function") {
            console.log("GoAffPro: firing $0 conversion", window.goaffpro_order);
            window.goaffproTrackConversion(window.goaffpro_order);
            sessionStorage.setItem('gaffpro_converted', '1');
          } else {
            setTimeout(fire, 150);
          }
        })();
      })();
    } else {
      console.log("GoAffPro: conversion already fired in this session");
    }
  </script>
</body>
</html>
